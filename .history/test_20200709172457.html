<!DOCTYPE html> 
<html>
<head> 
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>百度地图</title> 
<style type="text/css"> 
html{height:100%} 
body{height:90%;margin:10px;padding:0px} 
#container{width:600px;
height: 600px;} 
</style> 
<script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=VR4g3jL3IlDmkgVZiH4jVCISKdOdCYp6">
</script>
</head> 
  
<body> 
 <div id="container"></div>  <!--创建地图容器 -->
<script type="text/javascript">

var map = new BMapGL.Map("container");  // 创建地图实例 
var point = new BMapGL.Point(104.07, 30.67);  // 创建点坐标  
map.centerAndZoom(point, 15);// 初始化地图，设置中心点坐标和地图级别 

// 向地图中添加标注
var marker = new BMapGL.Marker(point); // 创建标注
var pt = new BMapGL.Point('allmap');
var myIcon = new B
map.addOverlay(marker); // 标注对象并添加到地图  
map.enableScrollWheelZoom(true);   // 开启鼠标滚轮缩放
map.setHeading(64.5);       // 设置地图旋转角度
map.setTilt(73);  // 设置地图倾斜角度

// 获取当前点击点的经纬度信息
map.addEventListener('click', function(e) {
    console.log('点击的经纬度：' + e.latlng.lng + ', ' + e.latlng.lat);
});

// 添加折线
var position1 = new BMapGL.Point(104.07304685841068, 30.6632575144547);
var position2 = new BMapGL.Point(104.08649513508179, 30.658995263336937);
var polyline = new BMapGL.Polyline([
    position1,
    position2
	], {strokeColor:"blue", strokeWeight:10, strokeOpacity:0.5});
map.addOverlay(polyline);

// 获取两点之间的距离
var distance = map.getDistance(position1,position2)/1000;
console.log(distance.toFixed(2)+'km');


</script> 
</body> 
</html>